---
title: 字符串
head:
- - meta
  - property: og:title
    content: 字符串
- - meta
  - name: description
    content: 本文介绍了C语言中字符串的定义、初始化、字符串相关函数。
- - meta
  - name: keywords
    content: 字符串的定义,初始化,字符串相关函数
- - meta
  - property: og:description
    content: 本文介绍了C语言中字符串的定义、初始化、字符串相关函数。
---
  
## 字符串

在 C 语言中，字符串是一组字符的序列。在 C 语言中，字符串以 `null` 字符` ('\0')` 结尾。

## 初始化分配

### 静态分配

使用静态分配声明字符串，我们声明了一个 char 类型数组 str，该数组的长度为 10。我们还使用双引号将字符串 "Hello" 注入到数组中。

```c
char str[10] = "Hello";
```

需要注意的是，在 C 语言中静态分配的数组大小不能动态改变，在声明时就必须指定大小。如果超出了数组大小的范围，将会发生未定义行为。

### 动态内存分配

使用动态内存分配函数 malloc 来为字符串分配内存方式如下:

```c
char *str = (char *)malloc(6 * sizeof(char));
strcpy(str, "Hello");
```

在这个例子中，我们使用 malloc 函数为字符串分配了一个长度为 6 的 char 类型数组的内存。我们还使用 strcpy 函数将常量 "Hello" 复制到动态分配的内存中。

需要注意的是，一旦完成对字符串的使用，需要显式地释放分配给字符串的内存，以避免出现内存泄漏的问题。例如：

```c
free(str);
```

这个语句将释放分配给字符串的内存。

### 使用字符串常量

使用字符串常量来表示字符串是一种通用的方法。例如：

```c
char *str = "Hello";
```

在这个例子中，我们声明了一个字符指针 str。该指针指向一个字符串常量 "Hello World"，这个字符串会被存储在内存中的只读数据区域，因此它在程序运行期间是一直可用的。

## 字符串函数

C语言提供了许多用于处理字符串的函数。以下是一些常用的字符串函数：

### strlen

strlen 函数用于计算字符串的长度（不包括 null 字符）。

```c
#include <string.h>

size_t strlen(const char *str);
```

### strcpy

strcpy 函数用于将一个字符串复制到另一个字符串。

```c
#include <string.h>

char *strcpy(char *dest, const char *src);
```

### strcat

strcat 函数用于将一个字符串追加到另一个字符串的末尾。

```c
#include <string.h>

char *strcat(char *dest, const char *src);
```

### strcmp

strcmp 函数用于比较两个字符串。

```c
#include <string.h>

int strcmp(const char *str1, const char *str2);
```

### 其他函数

除了上述函数外，C 语言还提供了许多其他字符串函数，如 strncpy、strncat、strncmp 等。这些函数都在 string.h 头文件中声明。
    
